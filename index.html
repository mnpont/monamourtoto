<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Mon Amour</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Pacifico&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíù</text></svg>">
</head>
<body>
  <div id="app">
    <!-- Confetti overlay -->
    <canvas id="confetti-canvas"></canvas>

    <!-- SCENE 1: Closed heart box (top-down view) -->
    <div id="closed-scene" class="scene active">
      <div id="closed-box" class="clickable">
        <!-- Heart-shaped box (SVG top-down) -->
        <svg class="heart-box-svg" viewBox="0 0 240 220" xmlns="http://www.w3.org/2000/svg">
          <!-- Box shadow -->
          <path class="box-shadow" d="M120 210 C120 210 15 150 15 80 C15 35 50 10 85 10 C103 10 117 20 120 32 C123 20 137 10 155 10 C190 10 225 35 225 80 C225 150 120 210 120 210Z"
                fill="rgba(0,0,0,0.1)" transform="translate(3,5)"/>
          <!-- Box body -->
          <path class="box-body-path" d="M120 205 C120 205 18 145 18 78 C18 35 52 12 85 12 C102 12 116 21 120 32 C124 21 138 12 155 12 C188 12 222 35 222 78 C222 145 120 205 120 205Z"/>
          <!-- Subtle inner highlight -->
          <ellipse cx="80" cy="60" rx="28" ry="16" fill="rgba(255,255,255,0.12)" transform="rotate(-20 80 60)"/>
        </svg>
        <!-- Ribbon cross -->
        <div class="ribbon ribbon-v"></div>
        <div class="ribbon ribbon-h"></div>
        <!-- Bow on top -->
        <div class="bow">
          <div class="bow-loop bow-left"></div>
          <div class="bow-loop bow-right"></div>
          <div class="bow-knot"></div>
          <div class="bow-tail bow-tail-left"></div>
          <div class="bow-tail bow-tail-right"></div>
        </div>
      </div>
    </div>

    <!-- SCENE 2: Open box with cards & hearts -->
    <div id="open-scene" class="scene">
      <!-- Central area: box halves + message cards -->
      <div id="center-area">
        <!-- Card 1 + Card 2 above the box -->
        <div id="top-cards">
          <div class="msg-card card-1">
            <span>happy valentine's day</span>
          </div>
          <div class="msg-card card-2">
            <span>mon amour</span>
          </div>
        </div>

        <!-- Open box: lid (top half) and base (bottom half) separated -->
        <div id="open-box">
          <!-- Lid = top half of heart, slightly separated upward -->
          <div id="box-lid-half">
            <svg viewBox="0 0 240 120" xmlns="http://www.w3.org/2000/svg">
              <clipPath id="lid-clip">
                <rect x="0" y="0" width="240" height="115"/>
              </clipPath>
              <g clip-path="url(#lid-clip)">
                <path d="M120 205 C120 205 18 145 18 78 C18 35 52 12 85 12 C102 12 116 21 120 32 C124 21 138 12 155 12 C188 12 222 35 222 78 C222 145 120 205 120 205Z"
                      fill="var(--magenta-light)" stroke="var(--magenta-dark)" stroke-width="4"/>
              </g>
            </svg>
            <!-- Loose ribbon strings hanging from lid -->
            <div class="loose-ribbon lr-1"></div>
            <div class="loose-ribbon lr-2"></div>
          </div>

          <!-- Base = bottom half of heart -->
          <div id="box-base-half">
            <svg viewBox="0 0 240 130" xmlns="http://www.w3.org/2000/svg">
              <clipPath id="base-clip">
                <rect x="0" y="85" width="240" height="130"/>
              </clipPath>
              <g clip-path="url(#base-clip)">
                <path d="M120 205 C120 205 18 145 18 78 C18 35 52 12 85 12 C102 12 116 21 120 32 C124 21 138 12 155 12 C188 12 222 35 222 78 C222 145 120 205 120 205Z"
                      fill="var(--magenta)" stroke="var(--magenta-dark)" stroke-width="4"/>
              </g>
              <!-- Inner rim of base -->
              <clipPath id="base-inner-clip">
                <rect x="0" y="88" width="240" height="126"/>
              </clipPath>
              <g clip-path="url(#base-inner-clip)">
                <path d="M120 200 C120 200 25 143 25 80 C25 40 55 18 85 18 C100 18 114 26 120 36 C126 26 140 18 155 18 C185 18 215 40 215 80 C215 143 120 200 120 200Z"
                      fill="var(--magenta-dark)" opacity="0.3"/>
              </g>
            </svg>
            <!-- Loose ribbon strings hanging from base -->
            <div class="loose-ribbon lr-3"></div>
            <div class="loose-ribbon lr-4"></div>
          </div>
        </div>

        <!-- Card 3 below the box -->
        <div id="bottom-card">
          <div class="msg-card card-3">
            <span>thank you for being so...</span>
          </div>
        </div>
      </div>

      <!-- Flippable heart cards scattered all over -->
      <div id="hearts-container"></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
